@use 'sass:map';
@use '../theme/scss' as theme;
@use './variables' as *;

@include theme.scope($avatar-root) {
    --avatar-border-radius: #{map.get($avatar-border-radius, 'round')};

    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: var(--avatar-background);
    color: #fff;
    font-weight: map.get(theme.$font-weight, medium);
    font-size: calc(var(--avatar-size) / 3);
    width: var(--avatar-size);
    height: var(--avatar-size);
    overflow: hidden;
    user-select: none;
    border-radius: var(--avatar-border-radius);

    @each $key, $value in $avatar-sizes {
        &--#{$key} {
            --avatar-size: #{map.get($avatar-sizes, $key)};
        }
    }

    @each $key, $value in $avatar-skins {
        &--#{$key} {
            --avatar-background: #{theme.get-color($value)};
        }
    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: inherit;
    }

    &--square {
        --avatar-border-radius: #{map.get($avatar-border-radius, 'square')};
    }
}

@include theme.scope($avatar-group-root) {
    display: flex;

    > #{$avatar-root} + #{$avatar-root} {
        margin-left: calc(var(--avatar-size) / -3);
        box-shadow: 0 0 0px 2px #fff;
    }
}
