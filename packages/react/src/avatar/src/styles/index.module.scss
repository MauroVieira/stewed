@use "sass:map";
@use "@stewed/react/src/theme" as theme;
@use "./variables" as *;

@include theme.scope($avatar-root) {
    --avatar-border-radius: #{map.get($avatar-border-radius, "round")};

    user-select: none;
    color: #fff;
    font-size: calc(var(--avatar-size) / 3);
    font-weight: map.get(theme.$font-weight, medium);
    display: inline-flex;
    width: var(--avatar-size);
    height: var(--avatar-size);
    align-items: center;
    justify-content: center;
    border-radius: var(--avatar-border-radius);
    overflow: hidden;
    background: var(--avatar-background);

    @each $key, $value in $avatar-sizes {
        &--#{$key} {
            --avatar-size: #{map.get($avatar-sizes, $key)};
        }
    }

    @each $key, $value in $avatar-skins {
        &--#{$key} {
            --avatar-background: #{theme.get-color($value)};
        }
    }

    [img] {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: inherit;
    }

    &--square {
        --avatar-border-radius: #{map.get($avatar-border-radius, "square")};
    }
}

@include theme.scope($avatar-group-root) {
    display: flex;

    > #{$avatar-root} + #{$avatar-root} {
        margin-left: calc(var(--avatar-size) / -3);
        box-shadow: 0 0 0 2px #fff;
    }
}
