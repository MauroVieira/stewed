@use "@stewed/react/src/theme" as theme;
@use "@stewed/react/src/typography/src/styles" as text;
@use "./variables" as *;

@include theme.scope($badge-root) {
  --badge-size: #{$badge-size};

  position: relative;
  display: inline-flex;

  &__count {
    @include text.typography(
      base,
      $overrides: (--typography-color: $badge-color, --typography-font-size: $badge-font-size)
    );

    position: absolute;
    top: 0;
    right: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: var(--badge-size);
    height: var(--badge-size);
    white-space: nowrap;
    background-color: var(--badge-background);
    border-radius: $badge-border-radius;
    transform: translate(50%, -50%);

    &:empty {
      --badge-size: #{$badge-dot-size};

      padding: 0;
    }
  }

  @each $key, $value in $badge-skins {
    &--#{$key} {
      --badge-background: #{theme.get-color($value, "500")};
    }
  }

  &--padded {
    #{$badge-root}__count {
      padding-inline: $badge-inner-spacing-inline;
    }
  }
}
