"use strict";function Modal(t){var o=this;if(console.log(t),this.modal=document.getElementById(t),this.isOpen=!1,this.backgroundColor="#000",this.opacityOverlay=.6,this.transitionStyle=!0,this.keyboard=!0,this.durationIn=.477,this.durationOut=.177,null!==this.modal)for(var i=this.modal.getElementsByClassName("modal-close"),a=0;a<i.length;a++){var n=i[a];n.addEventListener("click",function(){o.hide()})}this.show=function(){null!==this.modal&&(this.modal.className+=" modal--visible",this.isOpen=!0)},this.hide=function(){if(null!==this.modal){var t=this.modal.className;this.modal.className=t.replace(" modal--visible",""),this.isOpen=!1}}}$(function(){$(document).on("change",".file-path",function(){var t=$(".file-path > input[type=text]"),o=$(".upload").val();t.val(o),t.addClass("valid")})}),$(function(){$.fn.extend({showTab:function(t){$(".tabs").find(".active").removeClass("active"),$(".tabs").find("a[href$="+t+"]").addClass("active"),$("body").find(".tab-section").css({visibility:"hidden",display:"none"}),$(t).css({visibility:"visible",display:"block"})}}),$.fn.extend({tabs:function(){var t=$(".tabs li .active").attr("href")||"#"+$(this).data("target");$tab=$(t),$tab.css({visibility:"visible",display:"block"}),$(document).on("keyup",function(t,o){if(t.preventDefault(),37===t.keyCode||38===t.keyCode){var i=$tab.prev().attr("id");"undefined"!=typeof i&&($tab.showTab("#"+i),$tab=$("#"+i))}if(39===t.keyCode||40===t.keyCode){var a=$tab.next().attr("id");"undefined"!=typeof a&&($tab.showTab("#"+a),$tab=$("#"+a))}}),$(this).click(function(t){t.preventDefault();var o=$(this).attr("href")||"#"+$(this).data("target");$tab=$(o),$tab.showTab(o)})}}),$.fn.extend({openModal:function(t){$("body").css("overflow","hidden");var o=this.selector;$overlay=$(".modal-overlay"),$modal=$(o);var i={backgroundColor:"#000",opacityOverlay:.6,transitionStyle:!0,keyboard:!0,durationIn:.477,durationOut:.177};t=$.extend(i,t),$("body").find(".modal-overlay").css({WebkitTransition:"all "+t.durationIn+"s",MozTransition:"all "+t.durationIn+"s",MsTransition:"all "+t.durationIn+"s",OTransition:"all "+t.durationIn+"s",transition:"all "+t.durationIn+"s",background:t.backgroundColor,opacity:t.opacityOverlay}),t.transitionStyle?$modal.css({WebkitTransition:"all "+t.durationIn+"s",MozTransition:"all "+t.durationIn+"s",MsTransition:"all "+t.durationIn+"s",OTransition:"all "+t.durationIn+"s",transition:"all "+t.durationIn+"s",visibility:"visible",transform:"scale(1)",opacity:"1",top:"10%"}):$modal.css({visibility:"visible",transform:"scale(1)",opacity:"1",top:"10%"}),$modal.find(".modal-close").on("click",function(o){o.preventDefault(),$modal.closeModal(t)}),t.keyboard&&$(document).on("keyup",function(o){27===o.keyCode&&$modal.closeModal(t)})}}),$.fn.extend({closeModal:function(t){$overlay.removeClass("state-show"),$(".modal-overlay").remove(),$("body").css("overflow","auto"),t.transitionStyle?$modal.css({WebkitTransition:"all "+t.durationOut+"s",MozTransition:"all "+t.durationOut+"s",MsTransition:"all "+t.durationOut+"s",OTransition:"all "+t.durationOut+"s",transition:"all "+t.durationOut+"s",visibility:"hidden",transform:"scale(0.7)",opacity:"0",top:"30%"}):$modal.css({visibility:"hidden",opacity:"0",top:"30%"})}}),$.fn.extend({callModal:function(t){return this.each(function(){$(this).click(function(o){$overlayAppend=$('<div class="modal-overlay"></div>'),$("body").append($overlayAppend);var i=$(this).attr("href")||"#"+$(this).data("target");$(i).openModal(t),$(".modal-overlay").click(function(o){$(i).closeModal(t)})})})}}),$.fn.extend({openDropdown:function(t){var o=this.selector;$overlay=$(".modal-overlay"),$drop=$(o);var i={keyboard:!0,alignment:"left",durationIn:.4,durationOut:.3};t=$.extend(i,t),$drop.css({WebkitTransition:"all "+t.durationIn+"s",MozTransition:"all "+t.durationIn+"s",MsTransition:"all "+t.durationIn+"s",OTransition:"all "+t.durationIn+"s",transition:"all "+t.durationIn+"s","text-align":t.alignment,visibility:"visible",opacity:"1",zIndex:"1",top:"0"}),$drop.find(".modal-close").on("click",function(o){o.preventDefault(),$drop.closeModal(t)}),t.keyboard&&$(document).on("keyup",function(o){27===o.keyCode&&$drop.closeDropDown(t)})}}),$.fn.extend({closeDropDown:function(t){$drop.css({WebkitTransition:"all "+t.durationOut+"s",MozTransition:"all "+t.durationOut+"s",MsTransition:"all "+t.durationOut+"s",OTransition:"all "+t.durationOut+"s",transition:"all "+t.durationOut+"s",visibility:"hidden",opacity:"0",zIndex:"-1",top:"40px"})}}),$.fn.extend({dropdown:function(t){return this.each(function(){$(this).click(function(o){var i=$(this).attr("href")||"#"+$(this).data("target");$(i).hasClass("dropdown_open")?($(i).closeDropDown(t),$(i).removeClass("dropdown_open")):($(i).addClass("dropdown_open"),$(i).openDropdown(t))})})}})}),console.log("Modal (v0.1.10)"),!function(){for(var t=[],o=document.querySelectorAll("[stewed-modal]"),i=0;i<o.length;i++){var a=o[i],n=a.getAttribute("stewed-modal");t[n]=new Modal(n),a.addEventListener("click",function(){var o=this.getAttribute("stewed-modal"),i=t[o];i.isOpen?i.hide():i.show()})}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0ZXdlZC5qcyIsIm1vZGFsL21vZGFsLmpzIl0sIm5hbWVzIjpbIk1vZGFsIiwibW9kYWxJRCIsIl9zZWxmIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJtb2RhbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpc09wZW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5T3ZlcmxheSIsInRyYW5zaXRpb25TdHlsZSIsImtleWJvYXJkIiwiZHVyYXRpb25JbiIsImR1cmF0aW9uT3V0IiwiY2xvc2VCdXR0b25zIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImkiLCJsZW5ndGgiLCJidG5fY2xvc2UiLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZSIsInNob3ciLCJjbGFzc05hbWUiLCJjdXJyZW50Q2xhc3MiLCJyZXBsYWNlIiwiJCIsIm9uIiwiaW5wdXRfZmlsZSIsInVwbG9hZF9maWxlIiwidmFsIiwiYWRkQ2xhc3MiLCJmbiIsImV4dGVuZCIsInNob3dUYWIiLCJ0YWJJRCIsImZpbmQiLCJyZW1vdmVDbGFzcyIsImNzcyIsInZpc2liaWxpdHkiLCJkaXNwbGF5IiwidGFicyIsImF0dHIiLCJkYXRhIiwiJHRhYiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJQUkVWIiwicHJldiIsIk5FWFQiLCJuZXh0IiwiY2xpY2siLCJvcGVuTW9kYWwiLCJvcHRpb25zIiwic2VsZWN0b3IiLCIkb3ZlcmxheSIsIiRtb2RhbCIsImRlZmF1bHRzIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJNc1RyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJiYWNrZ3JvdW5kIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsInRvcCIsImV2ZW50IiwiY2xvc2VNb2RhbCIsInJlbW92ZSIsImNhbGxNb2RhbCIsImVhY2giLCIkb3ZlcmxheUFwcGVuZCIsImFwcGVuZCIsIm9wZW5Ecm9wZG93biIsImRyb3Bkb3duSUQiLCIkZHJvcCIsImFsaWdubWVudCIsInRleHQtYWxpZ24iLCJ6SW5kZXgiLCJjbG9zZURyb3BEb3duIiwiZHJvcGRvd24iLCJoYXNDbGFzcyIsIm1lbW9yeV9tb2RhbHMiLCJlbGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtIiwiZ2V0QXR0cmlidXRlIiwiY3VycmVudF9tb2RhbCJdLCJtYXBwaW5ncyI6IkFBQUEsWUNJQSxTQUFBQSxPQUFBQyxHQUNBLEdBQUFDLEdBQUFDLElBYUEsSUFaQUMsUUFBQUMsSUFBQUosR0FDQUUsS0FBQUcsTUFBQUMsU0FBQUMsZUFBQVAsR0FDQUUsS0FBQU0sUUFBQSxFQUVBTixLQUFBTyxnQkFBQSxPQUNBUCxLQUFBUSxlQUFBLEdBQ0FSLEtBQUFTLGlCQUFBLEVBQ0FULEtBQUFVLFVBQUEsRUFDQVYsS0FBQVcsV0FBQSxLQUNBWCxLQUFBWSxZQUFBLEtBR0EsT0FBQVosS0FBQUcsTUFHQSxJQUFBLEdBREFVLEdBQUFiLEtBQUFHLE1BQUFXLHVCQUFBLGVBQ0FDLEVBQUEsRUFBQUEsRUFBQUYsRUFBQUcsT0FBQUQsSUFBQSxDQUNBLEdBQUFFLEdBQUFKLEVBQUFFLEVBQ0FFLEdBQUFDLGlCQUFBLFFBQUEsV0FDQW5CLEVBQUFvQixTQVVBbkIsS0FBQW9CLEtBQUEsV0FDQSxPQUFBcEIsS0FBQUcsUUFDQUgsS0FBQUcsTUFBQWtCLFdBQUEsa0JBQ0FyQixLQUFBTSxRQUFBLElBR0FOLEtBQUFtQixLQUFBLFdBQ0EsR0FBQSxPQUFBbkIsS0FBQUcsTUFBQSxDQUNBLEdBQUFtQixHQUFBdEIsS0FBQUcsTUFBQWtCLFNBQ0FyQixNQUFBRyxNQUFBa0IsVUFBQUMsRUFBQUMsUUFBQSxrQkFBQSxJQUNBdkIsS0FBQU0sUUFBQSxJRDFDQWtCLEVBQUEsV0FHQUEsRUFBQXBCLFVBQUFxQixHQUFBLFNBQUEsYUFBQSxXQUNBLEdBQUFDLEdBQUFGLEVBQUEsaUNBQ0FHLEVBQUFILEVBQUEsV0FBQUksS0FDQUYsR0FBQUUsSUFBQUQsR0FDQUQsRUFBQUcsU0FBQSxhQUtBTCxFQUFB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U0FBQWdGLGlCQUFBLGtCQUNBckUsRUFBQSxFQUFBQSxFQUFBb0UsRUFBQW5FLE9BQUFELElBQUEsQ0FDQSxHQUFBc0UsR0FBQUYsRUFBQXBFLEdBQ0FqQixFQUFBdUYsRUFBQUMsYUFBQSxlQUNBSixHQUFBcEYsR0FBQSxHQUFBRCxPQUFBQyxHQUdBdUYsRUFBQW5FLGlCQUFBLFFBQUEsV0FDQSxHQUFBcUUsR0FBQXZGLEtBQUFzRixhQUFBLGdCQUVBbkYsRUFBQStFLEVBQUFLLEVBQ0FwRixHQUFBRyxPQUNBSCxFQUFBZ0IsT0FFQWhCLEVBQUFpQiIsImZpbGUiOiJzdGV3ZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxuXG4kKGZ1bmN0aW9uICgpIHtcblxuICAgIC8qKiBVcGxvYWQgdGhlIGZpbGUgKiovXG4gICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuZmlsZS1wYXRoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXRfZmlsZSA9ICQoJy5maWxlLXBhdGggPiBpbnB1dFt0eXBlPXRleHRdJyk7XG4gICAgICAgIHZhciB1cGxvYWRfZmlsZSA9ICQoJy51cGxvYWQnKS52YWwoKTtcbiAgICAgICAgaW5wdXRfZmlsZS52YWwodXBsb2FkX2ZpbGUpO1xuICAgICAgICBpbnB1dF9maWxlLmFkZENsYXNzKCd2YWxpZCcpXG4gICAgfSk7XG5cbn0pO1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmV4dGVuZCh7XG4gICAgICAgIHNob3dUYWI6IGZ1bmN0aW9uKHRhYklEKSB7XG5cbiAgICAgICAgICAgICQoICcudGFicycgKS5maW5kKCAnLmFjdGl2ZScgKS5yZW1vdmVDbGFzcyggJ2FjdGl2ZScgKTtcbiAgICAgICAgICAgICQoICcudGFicycgKS5maW5kKCAnYVtocmVmJD0nICsgdGFiSUQgKyAnXScgKS5hZGRDbGFzcyggJ2FjdGl2ZScgKTtcblxuICAgICAgICAgICAgJCggJ2JvZHknICkuZmluZCggJy50YWItc2VjdGlvbicgKS5jc3Moe1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgICAgIDogJ2hpZGRlbicsIFxuICAgICAgICAgICAgICAgIGRpc3BsYXkgICAgICAgIDogJ25vbmUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCggdGFiSUQgKS5jc3Moe1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgICAgIDogJ3Zpc2libGUnLCBcbiAgICAgICAgICAgICAgICBkaXNwbGF5ICAgICAgICA6ICdibG9jaydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgICQuZm4uZXh0ZW5kKHtcbiAgICAgICAgdGFiczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciB0YWJJRCA9ICQoXCIudGFicyBsaSAuYWN0aXZlXCIpLmF0dHIoXCJocmVmXCIpIHx8ICcjJyArICQodGhpcykuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICAkdGFiID0gJCh0YWJJRCk7XG4gICAgICAgICAgICAkdGFiLmNzcyh7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eSAgICAgOiAndmlzaWJsZScsIFxuICAgICAgICAgICAgICAgIGRpc3BsYXkgICAgICAgIDogJ2Jsb2NrJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUsIHRhYklEKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM3IHx8IGUua2V5Q29kZSA9PT0gMzgpIHsgXG4gICAgICAgICAgICAgICAgICAgIHZhciBQUkVWID0gJHRhYi5wcmV2KCkuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIFBSRVYgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWIuc2hvd1RhYignIycgKyBQUkVWKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWIgPSAkKCcjJyArIFBSRVYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM5IHx8IGUua2V5Q29kZSA9PT0gNDApIHsgXG4gICAgICAgICAgICAgICAgICAgIHZhciBORVhUID0gJHRhYi5uZXh0KCkuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIE5FWFQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWIuc2hvd1RhYignIycgKyBORVhUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0YWIgPSAkKCcjJyArIE5FWFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiSUQgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpIHx8ICcjJyArICQodGhpcykuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICAgICAgJHRhYiA9ICQodGFiSUQpO1xuICAgICAgICAgICAgICAgICR0YWIuc2hvd1RhYih0YWJJRCk7XG5cbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgfVxuICAgIH0pO1xuXG4kLmZuLmV4dGVuZCh7XG4gICAgb3Blbk1vZGFsOiBmdW5jdGlvbihvcHRpb25zKSB7XG5cbiAgICAgICAgJChcImJvZHlcIikuY3NzKCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIgKTtcbiAgICAgICAgdmFyIG1vZGFsSUQgPSB0aGlzLnNlbGVjdG9yO1xuXG4gICAgICAgICRvdmVybGF5ID0gJCgnLm1vZGFsLW92ZXJsYXknKTtcbiAgICAgICAgJG1vZGFsID0gJChtb2RhbElEKTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgOiAnIzAwMCcsXG4gICAgICAgICAgICBvcGFjaXR5T3ZlcmxheSAgOiAwLjYsIFxuICAgICAgICAgICAgdHJhbnNpdGlvblN0eWxlIDogdHJ1ZSxcbiAgICAgICAgICAgIGtleWJvYXJkICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICBkdXJhdGlvbkluICAgICAgOiAwLjQ3NyxcbiAgICAgICAgICAgIGR1cmF0aW9uT3V0ICAgICA6IDAuMTc3XG4gICAgICAgIH07XG5cbiAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTsgIFxuXG4gICAgICAgICQoXCJib2R5XCIpLmZpbmQoJy5tb2RhbC1vdmVybGF5JykuY3NzKHsgXG4gICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbkluICsgJ3MnLFxuICAgICAgICAgICAgTW96VHJhbnNpdGlvbiAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgIE1zVHJhbnNpdGlvbiAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uSW4gKyAncycsXG4gICAgICAgICAgICBPVHJhbnNpdGlvbiAgICAgICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbkluICsgJ3MnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiAgICAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQgICAgICAgICAgOiBvcHRpb25zLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgOiBvcHRpb25zLm9wYWNpdHlPdmVybGF5IFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uU3R5bGUpIHtcbiAgICAgICAgICAgICRtb2RhbC5jc3Moe1xuICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zaXRpb24gICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uSW4gKyAncycsXG4gICAgICAgICAgICAgICAgTW96VHJhbnNpdGlvbiAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgICAgICBNc1RyYW5zaXRpb24gICAgICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbkluICsgJ3MnLFxuICAgICAgICAgICAgICAgIE9UcmFuc2l0aW9uICAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uSW4gKyAncycsXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiAgICAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5ICAgICAgICAgIDogJ3Zpc2libGUnLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSAgICAgICAgICAgOiAnc2NhbGUoMSknLFxuICAgICAgICAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgOiAnMScsXG4gICAgICAgICAgICAgICAgdG9wICAgICAgICAgICAgICAgICA6ICcxMCUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRtb2RhbC5jc3Moe1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgICAgICAgICAgOiAndmlzaWJsZScsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtICAgICAgICAgICA6ICdzY2FsZSgxKScsXG4gICAgICAgICAgICAgICAgb3BhY2l0eSAgICAgICAgICAgICA6ICcxJyxcbiAgICAgICAgICAgICAgICB0b3AgICAgICAgICAgICAgICAgIDogJzEwJSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJG1vZGFsLmZpbmQoXCIubW9kYWwtY2xvc2VcIikub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkbW9kYWwuY2xvc2VNb2RhbChvcHRpb25zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykgeyBcbiAgICAgICAgICAgICAgICAgICAgJG1vZGFsLmNsb3NlTW9kYWwob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuJC5mbi5leHRlbmQoe1xuICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblxuICAgICAgICAkb3ZlcmxheS5yZW1vdmVDbGFzcygnc3RhdGUtc2hvdycpO1xuICAgICAgICAkKFwiLm1vZGFsLW92ZXJsYXlcIikucmVtb3ZlKCk7XG5cbiAgICAgICAgJChcImJvZHlcIikuY3NzKCBcIm92ZXJmbG93XCIsIFwiYXV0b1wiICk7XG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb25TdHlsZSkge1xuICAgICAgICAgICAgJG1vZGFsLmNzcygge1xuICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zaXRpb24gICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgICAgIE1velRyYW5zaXRpb24gICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgICAgIE1zVHJhbnNpdGlvbiAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgICAgIE9UcmFuc2l0aW9uICAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gICAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHkgICAgICAgICAgOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gICAgICAgICAgIDogJ3NjYWxlKDAuNyknLFxuICAgICAgICAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgOiAnMCcsXG4gICAgICAgICAgICAgICAgdG9wICAgICAgICAgICAgICAgICA6ICczMCUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRtb2RhbC5jc3MoIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5ICAgICAgICAgIDogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgb3BhY2l0eSAgICAgICAgICAgICA6ICcwJyxcbiAgICAgICAgICAgICAgICB0b3AgICAgICAgICAgICAgICAgIDogJzMwJSdcbiAgICAgICAgICAgIH0pOyBcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4kLmZuLmV4dGVuZCh7XG4gICAgY2FsbE1vZGFsOiBmdW5jdGlvbihvcHRpb25zKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRvdmVybGF5QXBwZW5kID0gJCgnPGRpdiBjbGFzcz1cIm1vZGFsLW92ZXJsYXlcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAkKFwiYm9keVwiKS5hcHBlbmQoJG92ZXJsYXlBcHBlbmQpO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSUQgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpIHx8ICcjJyArICQodGhpcykuZGF0YSgndGFyZ2V0Jyk7XG4gICAgICAgICAgICAgICAgJChtb2RhbElEKS5vcGVuTW9kYWwob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAkKCcubW9kYWwtb3ZlcmxheScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJChtb2RhbElEKS5jbG9zZU1vZGFsKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyBcbiAgICB9XG59KTtcblxuJC5mbi5leHRlbmQoe1xuICAgIG9wZW5Ecm9wZG93bjogZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgICAgIHZhciBkcm9wZG93bklEID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgJG92ZXJsYXkgPSAkKCcubW9kYWwtb3ZlcmxheScpO1xuICAgICAgICAkZHJvcCA9ICQoZHJvcGRvd25JRCk7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAga2V5Ym9hcmQgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIGFsaWdubWVudCAgICAgICA6ICdsZWZ0JyxcbiAgICAgICAgICAgIGR1cmF0aW9uSW4gICAgICA6IDAuNDAwLFxuICAgICAgICAgICAgZHVyYXRpb25PdXQgICAgIDogMC4zMDBcbiAgICAgICAgfTtcblxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpOyAgXG4gICAgICAgICRkcm9wLmNzcyh7XG4gICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbkluICsgJ3MnLFxuICAgICAgICAgICAgTW96VHJhbnNpdGlvbiAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgIE1zVHJhbnNpdGlvbiAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uSW4gKyAncycsXG4gICAgICAgICAgICBPVHJhbnNpdGlvbiAgICAgICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbkluICsgJ3MnLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiAgICAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25JbiArICdzJyxcbiAgICAgICAgICAgICd0ZXh0LWFsaWduJyAgICAgICAgOiBvcHRpb25zLmFsaWdubWVudCxcbiAgICAgICAgICAgIHZpc2liaWxpdHkgICAgICAgICAgOiAndmlzaWJsZScsXG4gICAgICAgICAgICBvcGFjaXR5ICAgICAgICAgICAgIDogJzEnLFxuICAgICAgICAgICAgekluZGV4ICAgICAgICAgICAgICA6ICcxJyxcbiAgICAgICAgICAgIHRvcCAgICAgICAgICAgICAgICAgOiAnMCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGRyb3AuZmluZChcIi5tb2RhbC1jbG9zZVwiKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICRkcm9wLmNsb3NlTW9kYWwob3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5dXAnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHsgXG4gICAgICAgICAgICAgICAgICAgICRkcm9wLmNsb3NlRHJvcERvd24ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuJC5mbi5leHRlbmQoe1xuICAgIGNsb3NlRHJvcERvd246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgJGRyb3AuY3NzKCB7XG4gICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbk91dCArICdzJyxcbiAgICAgICAgICAgIE1velRyYW5zaXRpb24gICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgTXNUcmFuc2l0aW9uICAgICAgICA6ICdhbGwgJyArIG9wdGlvbnMuZHVyYXRpb25PdXQgKyAncycsXG4gICAgICAgICAgICBPVHJhbnNpdGlvbiAgICAgICAgIDogJ2FsbCAnICsgb3B0aW9ucy5kdXJhdGlvbk91dCArICdzJyxcbiAgICAgICAgICAgIHRyYW5zaXRpb24gICAgICAgICAgOiAnYWxsICcgKyBvcHRpb25zLmR1cmF0aW9uT3V0ICsgJ3MnLFxuICAgICAgICAgICAgdmlzaWJpbGl0eSAgICAgICAgICA6ICdoaWRkZW4nLFxuICAgICAgICAgICAgb3BhY2l0eSAgICAgICAgICAgICA6ICcwJyxcbiAgICAgICAgICAgIHpJbmRleCAgICAgICAgICAgICAgOiAnLTEnLFxuICAgICAgICAgICAgdG9wICAgICAgICAgICAgICAgICA6ICc0MHB4J1xuICAgICAgICB9KTtcblxuICAgIH1cbn0pO1xuXG4kLmZuLmV4dGVuZCh7XG4gICAgZHJvcGRvd246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bklEID0gJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSB8fCAnIycgKyAkKHRoaXMpLmRhdGEoJ3RhcmdldCcpO1xuICAgICAgICAgICAgICAgIGlmKCQoZHJvcGRvd25JRCkuaGFzQ2xhc3MoJ2Ryb3Bkb3duX29wZW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAkKGRyb3Bkb3duSUQpLmNsb3NlRHJvcERvd24ob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICQoZHJvcGRvd25JRCkucmVtb3ZlQ2xhc3MoJ2Ryb3Bkb3duX29wZW4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKGRyb3Bkb3duSUQpLmFkZENsYXNzKCdkcm9wZG93bl9vcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICQoZHJvcGRvd25JRCkub3BlbkRyb3Bkb3duKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgXG4gICAgfVxufSk7XG59KTtcblxuIiwiLy9ERUJVR1xuY29uc29sZS5sb2coJ01vZGFsICh2MC4xLjEwKScpO1xuXG4vL01vZGFsXG5mdW5jdGlvbiBNb2RhbChtb2RhbElEKSB7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICBjb25zb2xlLmxvZyhtb2RhbElEKTtcbiAgICB0aGlzLm1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJRCk7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcblxuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJyMwMDAnO1xuICAgIHRoaXMub3BhY2l0eU92ZXJsYXkgID0gMC42OyBcbiAgICB0aGlzLnRyYW5zaXRpb25TdHlsZSA9IHRydWU7XG4gICAgdGhpcy5rZXlib2FyZCAgICAgICAgPSB0cnVlO1xuICAgIHRoaXMuZHVyYXRpb25JbiAgICAgID0gMC40Nzc7XG4gICAgdGhpcy5kdXJhdGlvbk91dCAgICAgPSAwLjE3NztcblxuICAgIC8vQ29uc3RydWN0b3JcbiAgICBpZih0aGlzLm1vZGFsICE9PSBudWxsKXtcbiAgICAgICAgLy9jb25zdHJ1Y3QgT2JqZWN0XG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbnMgPSB0aGlzLm1vZGFsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZGFsLWNsb3NlJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvc2VCdXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnRuX2Nsb3NlID0gY2xvc2VCdXR0b25zW2ldO1xuICAgICAgICAgICAgYnRuX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNob3cgQ3VycmVudCBNb2RhbFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYodGhpcy5tb2RhbCAhPT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTmFtZSArPSAnIG1vZGFsLS12aXNpYmxlJztcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYodGhpcy5tb2RhbCAhPT0gbnVsbCl7XG4gICAgICAgICAgICB2YXIgY3VycmVudENsYXNzID0gdGhpcy5tb2RhbC5jbGFzc05hbWU7XG4gICAgICAgICAgICB0aGlzLm1vZGFsLmNsYXNzTmFtZSA9IGN1cnJlbnRDbGFzcy5yZXBsYWNlKCcgbW9kYWwtLXZpc2libGUnLCAnJyk7XG4gICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuXG5cbn07XG5cbi8vU0hPVyBNT0RBTFxuISBmdW5jdGlvbigpe1xuXG4gICAgdmFyIG1lbW9yeV9tb2RhbHMgPSBbXTtcbiAgICBcbiAgICB2YXIgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbc3Rld2VkLW1vZGFsXScpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW0gPSBlbGVtc1tpXTtcbiAgICAgICAgdmFyIG1vZGFsSUQgPSBlbGVtLmdldEF0dHJpYnV0ZSgnc3Rld2VkLW1vZGFsJyk7XG4gICAgICAgIG1lbW9yeV9tb2RhbHNbbW9kYWxJRF0gPSBuZXcgTW9kYWwobW9kYWxJRCk7XG4gICAgICAgIFxuICAgICAgICAvL2VsZW1lbnQgY2xpY2tcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgY3VycmVudF9tb2RhbCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdzdGV3ZWQtbW9kYWwnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIG1vZGFsID0gbWVtb3J5X21vZGFsc1tjdXJyZW50X21vZGFsXTtcbiAgICAgICAgICAgIGlmKG1vZGFsLmlzT3Blbil7XG4gICAgICAgICAgICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbW9kYWwuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9uZXcgTW9kYWwoKS5zaG93KCk7IFxuICAgICAgICB9KTtcbiAgICAgICAgLy9lbGVtZW50IGZpbmQgY2xhc3MgbW9kYWwtY2xvc2VcbiAgICAgICAgLy92YXIgY2xvc2VCdG4gPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZWxlbS5nZXRBdHRyaWJ1dGUoJ3N0ZXdlZC1tb2RhbCcpKTtcblxuXG4gICAgfVxufSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
